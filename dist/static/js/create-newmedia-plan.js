webpackJsonp([2],{1:function(e,t,a){"use strict";(function(e){function i(e,t){n(e,t),s(e,t)}function s(e,t){t||(t=1),setTimeout(function(){$("#"+e).focus()},t)}function n(e,t){t||(t=1),setTimeout(function(){$("html, body").find("#"+e).length>0&&$("html, body").animate({scrollTop:$("#"+e).offset().top-200+"px"},{duration:500,easing:"swing"})},t)}function r(e,t){for(var a=e.length,i=[],s=[],n=0;t>0;){var r=Math.ceil(Math.random()*(t/a*2));if(t-r>=0){if(i.length<a)i.push(r);else{i[Math.floor(Math.random()*a)]+=r}t-=r}if(++n>100){i[Math.floor(Math.random()*a)]+=t,t=0}}for(var o=0;o<a;++o)s.push({time:e[o],num:i[o]});return s}function o(e){for(var t in e)"boolean"==typeof e[t]&&(!0===e[t]&&(e[t]=1),!1===e[t]&&(e[t]=0)),"object"===p()(e[t])&&o(e[t])}function l(e){for(var t in e)"true"===e[t]&&(e[t]=!0),"false"===e[t]&&(e[t]=!1),e[t]&&!isNaN(Number(e[t]))&&"boolean"!=typeof e[t]&&(e[t]=Number(e[t])),"object"===p()(e[t])&&l(e[t])}function u(e){var t=0;for(var a in e)if(e[a].hasOwnProperty("prices"))for(var i in e[a].prices){var s=e[a].prices[i];s.hasOwnProperty("value")&&!0===s.valid&&(t+=parseFloat(s.value))}return t}function c(){return"Microsoft Internet Explorer"==navigator.appName&&"MSIE6.0"==navigator.appVersion.split(";")[1].replace(/[ ]/g,"")||"Microsoft Internet Explorer"==navigator.appName&&"MSIE7.0"==navigator.appVersion.split(";")[1].replace(/[ ]/g,"")||"Microsoft Internet Explorer"==navigator.appName&&"MSIE8.0"==navigator.appVersion.split(";")[1].replace(/[ ]/g,"")||"Microsoft Internet Explorer"==navigator.appName&&"MSIE9.0"==navigator.appVersion.split(";")[1].replace(/[ ]/g,"")}t.d=i,t.e=r,t.c=o,t.a=l,t.b=u,t.f=c;var _=a(12),p=a.n(_);e.CONSTANT={IMAGE_DOMAIN:"//img.task.com",_token:$('meta[name="csrf-token"]').attr("content"),platforms:{tb:{name:"淘宝",key:1},tmall:{name:"天猫",key:2},jd:{name:"京东",key:3}}}}).call(t,a(25))},100:function(e,t,a){"use strict";var i=a(58),s=a(229),n=a.n(s);i.a.extend("nickname",{getMessage:function(e){return"请输入正确的呢称(2-15字符，中英文、数字和下划线)"},validate:function(e){return/^[(\u4e00-\u9fa5)0-9a-zA-Z\_\s@]+$/.test(e)}}),i.a.localize(n.a);var r={zh_CN:{messages:{email:function(){return"请输入正确的邮箱格式"},required:function(e){return"请输入"+e},min_value:function(e,t){return e+" 不能小于 "+t}}}};i.a.localize(r);var o={errorBagName:"errors",fieldsBagName:"fields",delay:0,locale:"zh_CN",strict:!0,enableAutoClasses:!0,classNames:{touched:"touched",untouched:"untouched",valid:"ng-valid",invalid:"ng-invalid",pristine:"pristine",dirty:"ng-dirty"},events:"input|blur",inject:!0};Vue.use(i.b,o)},104:function(e,t,a){var i=a(0)(a(156),a(283),null,null);i.options.__file="/srv/webroot/opensource/task-plan/src/module/create-newmedia-plan/App.vue",i.esModule&&Object.keys(i.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),i.options.functional&&console.error("[vue-loader] App.vue: functional components are not supported with templates, they should use render functions."),e.exports=i.exports},137:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(59),s=a.n(i),n=a(32),r=a.n(n);t.default={components:{ChooseProductImg:s.a},data:function(){return{root:this.$root,default_image:r.a,alternative_images:{selected:"",name:"ChooseProductImg"+Math.ceil(1e7*Math.random()),isRadio:!0,options:[]},veeValidateTag:!1}},computed:{current_image_data_length:function(){return this.base_data.images.length},vTag:function(){return this.veeValidateTag}},props:{id:{required:!0},title_name:{required:!0,default:"商品主图"},base_data:{required:!0,default:{min_img_num:1,max_img_num:2,images:[],alternative_images:[]}},other_params:{default:{}},description:{default:"请上传图片尺寸为800x800以内，且文件不能大于2M，格式为：jpg、png；上传的主图请避免与其他店铺商家的主图相似，以便保证接单侠能进入正确的店铺并完成任务。"}},watch:{current_image_data_length:function(e,t){this.$validator.validate("current_image_data_length",e)}},mounted:function(){var e=this,t=this,a={messages:{zh_CN:function(t,a){return"请最少选择"+e.base_data.min_img_num+"张, 最多选择"+e.base_data.max_img_num+"张"+e.title_name}},validate:function(a,i){return!(e.current_image_data_length<t.base_data.min_img_num||e.current_image_data_length>t.base_data.max_img_num)}};this.$validator.extend("current_image_data_length",a),this.veeValidateTag=!0},methods:{delete_img:function(e){this.base_data.images.splice(e,1)}}}},156:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(26),s=a.n(i),n=a(254),r=a.n(n),o=a(253),l=a.n(o),u=a(251),c=a.n(u),_=a(252),p=a.n(_),d=a(19),m=a(45),f=a(24);t.default={components:{TypeSelect:r.a,Plan:l.a,Bill:p.a,AutoRendering:c.a},computed:s()({},a.i(f.a)({store_data:"getData"})),methods:s()({},a.i(f.b)({updateData:"updateData"}),{bill:function(){var e=this;m.a(this),setTimeout(function(){if(e.store_data.errors.length>0){for(var t in e.store_data.errors)new PNotify({text:"表单填写错误："+e.store_data.errors[t],type:"error",addclass:"stack-modal"});return!1}var a={platform_id:e.store_data.platform_id,source_type:e.store_data.task_id,start_at:e.store_data.date_range.from,end_at:e.store_data.date_range.to,total_count:e.store_data.number,expedite:e.store_data.expedite,content:e.store_data.content,total_money:e.store_data.total_money,use_account_balance:e.store_data.use_account_balance?1:0,coupon_id:e.store_data.coupon_id};d.a.postNewMediaPlan(a).then(function(e){e.hasOwnProperty("pay_status")&&2===parseInt(e.pay_status)&&BootstrapDialog.show({title:"提示信息",message:e.message?e.message:"恭喜，您已经成功发布任务计划！",closable:!1,type:BootstrapDialog.TYPE_SUCCESS,buttons:[{label:"关闭",action:function(e){e.close()}},{label:"返回任务计划列表",cssClass:"btn-success",action:function(){window.location.href="/new-media-plan/manage"}}]}),e.hasOwnProperty("pay_status")&&1===parseInt(e.pay_status)&&BootstrapDialog.show({title:"提示信息",message:e.message?e.message:"任务计划创建成功，立即支付任务计划尾款？",closable:!1,type:BootstrapDialog.TYPE_SUCCESS,buttons:[{label:"关闭",action:function(e){e.close()}},{label:"立即支付",cssClass:"btn-success",action:function(){window.location.href="/finance?order_id="+e.order_id}}]})},function(e){})},300)}})}},157:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(26),s=a.n(i),n=a(24),r=a(241),o=a.n(r),l=a(45);t.default={data:function(){return{section_open:!0}},components:{ChooseImageForm:o.a,"s-datetime":IVDateTimeinput},computed:s()({},a.i(n.a)({store_data:"getData",task_info:"getCurrentNewMediaTaskInfo"})),watch:{task_info:{deep:!0,handler:function(){this.init_form_data()}}},created:function(){},mounted:function(){},methods:s()({},a.i(n.b)({store_data:"getData",updateData:"updateData"}),{convertVeeTag:function(e){return l.b(e)},init_form_data:function(){if(!this.task_info||!this.task_info.hasOwnProperty("elements"))return!1;var e={},t={};for(var a in this.task_info.elements){if("image"===this.task_info.elements[a].input_type){var i=this.task_info.elements[a].verify_rule;i=i||"";var s=i.match(/min_value:(\d+)/)?i.match(/min_value:(\d+)/)[1]:0,n=i.match(/max_value:(\d+)/)?i.match(/max_value:(\d+)/)[1]:2;e[this.task_info.elements[a].key]={min_img_num:parseInt(s),max_img_num:parseInt(n),images:[],alternative_images:[]}}"image"!==this.task_info.elements[a].input_type&&(e[this.task_info.elements[a].key]=this.task_info.elements[a].default_value),t[this.task_info.elements[a].key]=this.task_info.elements[a].name}var r={zh_CN:{attributes:t}};this.$validator.localize(r),this.updateData({content:e})}})}},158:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(26),s=a.n(i),n=a(19),r=a(24);t.default={props:{money:{required:!0,type:Number},submit_function:{required:!0}},data:function(){return{pay_info:{discount:0,discount_code:"",coupon_id:"",coupon_code_obj:{},use_account_balance:!1,account_balance:0,amount:0},init_data:{message:{discount:""},coupons:[]},validate_status:!1}},mounted:function(){this.getAllCoupons(),this.getProfile()},watch:{"pay_info.use_account_balance":function(e,t){this.updateData({use_account_balance:e})},"pay_info.coupon_id":function(e,t){if(this.updateData({coupon_id:e}),""!==this.pay_info.coupon_id)for(var a in this.init_data.coupons)this.init_data.coupons[a].id===parseInt(this.pay_info.coupon_id)&&this.$set(this.pay_info,"coupon_code_obj",$.extend(!0,{},this.init_data.coupons[a]));else this.pay_info.coupon_code_obj={}},"pay_info.discount_code":function(e,t){this.pay_info.discount=0}},computed:s()({},a.i(r.a)({store_data:"getData"}),{discount_code_money:function(){var e=0;return this.pay_info.discount&&this.pay_info.discount_code&&(e=this.money-this.pay_info.discount>0?this.pay_info.discount:this.money),Number(e)},coupon_offer_money:function(){var e=0;return this.coupon_offer>0&&(e=this.money-this.discount_code_money-this.coupon_offer>0?this.coupon_offer:this.money-this.discount_code_money),Number(e)},balance_deductible:function(){var e=0;return!0===this.pay_info.use_account_balance&&(e=this.money-this.discount_code_money-this.coupon_offer_money-this.pay_info.account_balance>0?this.pay_info.account_balance:this.money-this.discount_code_money-this.coupon_offer_money),Number(e)},coupon_offer:function(){var e=0;return this.pay_info.coupon_code_obj.hasOwnProperty("id")&&this.money>this.pay_info.coupon_code_obj.amount&&(this.pay_info.coupon_code_obj.subtraction>0&&(e=this.pay_info.coupon_code_obj.subtraction),this.pay_info.coupon_code_obj.discount>0&&(e=this.money*this.pay_info.coupon_code_obj.discount)),e},amount:function(){var e=this.money-this.discount_code_money-this.coupon_offer_money-this.balance_deductible;return this.$set(this.pay_info,"amount",e),Number(e)}}),methods:s()({},a.i(r.b)({updateData:"updateData"}),{release:function(){if("function"==typeof this.$parent[this.submit_function])return this.$parent[this.submit_function].apply(this.submit_function,this.$data);new PNotify({text:"没有下单回调方法，请联系管理员！",type:"warning"})},getProfile:function(){var e=this;n.a.getUserProfile().then(function(t){e.pay_info.account_balance=t.data.money},function(e){})},getAllCoupons:function(){var e=this;n.a.getAllCoupons().then(function(t){e.init_data.coupons=t.data},function(e){})},discountCode:function(e){if(""!==this.pay_info.discount_code){this.init_data.message.discount="",this.pay_info.discount=0;var t=$(e.target).ladda();t.ladda("start");var a=this;setTimeout(function(){"testaabbccdd"===a.pay_info.discount_code?a.pay_info.discount=1e4:"test"===a.pay_info.discount_code?a.pay_info.discount=100:a.init_data.message.discount="无效的优惠码！",t.ladda("stop")},2e3)}},couponIsValid:function(e){var t=this.init_data.coupons[e];return this.money>t.amount}})}},159:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(26),s=a.n(i),n=a(24),r=(a(58),a(45));t.default={data:function(){return{section_open:!0}},computed:s()({},a.i(n.a)({store_data:"getData"}),{number:{get:function(){return this.store_data.number},set:function(e){this.updateData({number:e})}},expedite:{get:function(){return this.store_data.expedite},set:function(e){this.updateData({expedite:e})}},total_money:function(){var e=isNaN(parseFloat(this.store_data.task_price))?0:parseFloat(this.store_data.task_price),t=isNaN(parseFloat(this.store_data.expedite))?0:parseFloat(this.store_data.expedite),a=isNaN(parseInt(this.store_data.number))?0:parseInt(this.store_data.number),i=(e+t)*a;return this.updateData({total_money:i}),Number(i).toFixed(2)}}),methods:s()({},a.i(n.b)({updateData:"updateData"}),{convertVeeTag:function(e){return r.b(e)}}),mounted:function(){var e={zh_CN:{attributes:{number:"任务数量",expedite:"置顶加价"}}};this.$validator.localize(e)}}},160:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(26),s=a.n(i),n=a(24),r=a(19);t.default={data:function(){return{section_open:!0}},watch:{platform_id:function(e,t){if(this.store_data.task_types.length>0)for(var a in this.store_data.task_types)if(this.store_data.task_types[a].platform_id===e){this.task_id=this.store_data.task_types[a].id;break}},task_id:function(e,t){for(var a in this.store_data.task_types)parseInt(e)===this.store_data.task_types[a].id&&this.updateData({task_price:this.store_data.task_types[a].business_price})}},mounted:function(){var e=this;r.a.getPlatform().then(function(t){t.hasOwnProperty("data")&&t.data.length>0&&(e.store_data.platforms=t.data,e.platform_id=t.data[0].id)},function(t){var a={result:!0,input:{id:"",name:"",logo:"",description:"",status:"",order_number:"",created_at:"",updated_at:""},data:[{id:10,name:"微信",logo:"http://www.shangtuiyun.com/backend/dist/images/newmedia-type-logo/weixin.png",description:"微信刷票、微信点赞、集赞、转发、加关注，各种玩法任你操控。"},{id:20,name:"微博",logo:"http://img.t.sinajs.cn/t6/style/images/global_nav/WB_logo.png",description:"关注涨粉、评、赞、转发，分分钟变身言论领袖。"}]};e.store_data.platforms=a.data,e.platform_id=a.data[0].id}),r.a.getTaskTypes().then(function(t){t.hasOwnProperty("data")&&t.data.length>0&&(e.store_data.task_types=t.data,e.task_id=t.data[0].id)},function(t){var a={result:!0,input:{id:"",platform_id:"",name:"",logo:"",description:"",example_url:"",operation_tips:"",business_price:"",worker_price:"",need_images:"",status:"",order_number:"",created_at:"",updated_at:""},data:[{id:102,platform_id:10,name:"MP直投",description:"微信公众号里面就可以创建自带的mp投票。主要是能过投票来增加人气。让参与的选手拉人给自己投票，这样子投票的人就会知道有这么一个公众号。",operation_tips:null,business_price:"0.20000",elements:[{id:6,platform_id:10,source_type:102,name:"公众号",input_type:"text",key:"weixin",description:"",default_value:"",placeholder:"正确的公众号有助于提高合格率",help_tips:'如：关注公众号"商推云"，并回复8',example_url:"",verify_rule:"",verify_fail_message:"",verify_success_message:""},{id:7,platform_id:10,source_type:102,name:"被投人",input_type:"text",key:"target_user",description:"",default_value:"",placeholder:"正确的被投人或被投编号",help_tips:"如：8号选手 龙小云",example_url:"",verify_rule:"required",verify_fail_message:"",verify_success_message:""},{id:8,platform_id:10,source_type:102,name:"连接",input_type:"url",key:"target_url",description:"",default_value:"",placeholder:"投票连接",help_tips:"如：http://example.com/toupiao",example_url:"",verify_rule:"url",verify_fail_message:"",verify_success_message:""},{id:9,platform_id:10,source_type:102,name:"描述",input_type:"textarea",key:"description",description:"",default_value:"",placeholder:"描述一下您的任务",help_tips:"如：直投 上传勾选图和已选图",example_url:"",verify_rule:"",verify_fail_message:"",verify_success_message:""},{id:10,platform_id:10,source_type:102,name:"成功样例图片",input_type:"image",key:"example_image",description:"",default_value:"",placeholder:"",help_tips:"请上传成功后的样例截图",example_url:"",verify_rule:"min_value:0|min_value:2",verify_fail_message:"",verify_success_message:""}]},{id:101,platform_id:10,name:"关注投票",description:"关注指定公众号之后投票。",operation_tips:null,business_price:"0.22000",elements:[{id:1,platform_id:10,source_type:101,name:"公众号",input_type:"text",key:"weixin",description:"",default_value:"",placeholder:"正确的公众号有助于提高合格率",help_tips:'如：关注公众号"商推云"，并回复8',example_url:"",verify_rule:"",verify_fail_message:"",verify_success_message:""},{id:2,platform_id:10,source_type:101,name:"被投人",input_type:"text",key:"target_user",description:"",default_value:"",placeholder:"正确的被投人或被投编号",help_tips:"如：8号选手 龙小云",example_url:"",verify_rule:"required",verify_fail_message:"",verify_success_message:""},{id:3,platform_id:10,source_type:101,name:"连接",input_type:"url",key:"target_url",description:"",default_value:"",placeholder:"投票连接",help_tips:"如：http://example.com/toupiao",example_url:"",verify_rule:"url",verify_fail_message:"",verify_success_message:""},{id:4,platform_id:10,source_type:101,name:"描述",input_type:"textarea",key:"description",description:"",default_value:"",placeholder:"描述一下您的任务",help_tips:"如：直投 上传勾选图和已选图",example_url:"",verify_rule:"",verify_fail_message:"",verify_success_message:""},{id:5,platform_id:10,source_type:101,name:"成功样例图片",input_type:"image",key:"example_image",description:"",default_value:"",placeholder:"",help_tips:"请上传成功后的样例截图",example_url:"",verify_rule:"min_value:0|min_value:2",verify_fail_message:"",verify_success_message:""},{id:36,platform_id:10,source_type:101,name:"文章连接",input_type:"url",key:"target_url",description:"",default_value:"",placeholder:"正确的文章连接地址",help_tips:"如：http://example.com/article/1",example_url:"",verify_rule:"url",verify_fail_message:"",verify_success_message:""}]},{id:113,platform_id:10,name:"关注公众号",description:"",operation_tips:"",business_price:"0.20000",elements:[{id:45,platform_id:10,source_type:113,name:"公众号/个人号",input_type:"text",key:"target_user",description:"",default_value:"",placeholder:"正确的公众号或个人号",help_tips:"如：关注公众号 商推云",example_url:"",verify_rule:"required",verify_fail_message:"",verify_success_message:""},{id:46,platform_id:10,source_type:113,name:"描述",input_type:"textarea",key:"description",description:"",default_value:"",placeholder:"描述一下您的任务（尽量让接单侠理解您的意图）",help_tips:"如：请扫码关注对应公众号，关注后截图",example_url:"",verify_rule:"",verify_fail_message:"",verify_success_message:""},{id:47,platform_id:10,source_type:113,name:"成功样例图片",input_type:"image",key:"example_image",description:"",default_value:"",placeholder:"",help_tips:"公众号二维码或成功后的样例截图",example_url:"",verify_rule:"min_value:0|min_value:2",verify_fail_message:"",verify_success_message:""}]},{id:103,platform_id:10,name:"注册投票",description:"若需要手机注册，请加价哦",operation_tips:null,business_price:"0.40000",elements:[{id:11,platform_id:10,source_type:103,name:"公众号",input_type:"text",key:"weixin",description:"",default_value:"",placeholder:"正确的公众号有助于提高合格率",help_tips:'如：关注公众号"商推云"，并回复8',example_url:"",verify_rule:"",verify_fail_message:"",verify_success_message:""},{id:12,platform_id:10,source_type:103,name:"被投人",input_type:"text",key:"target_user",description:"",default_value:"",placeholder:"正确的被投人或被投编号",help_tips:"如：8号选手 龙小云",example_url:"",verify_rule:"required",verify_fail_message:"",verify_success_message:""},{id:13,platform_id:10,source_type:103,name:"连接",input_type:"url",key:"target_url",description:"",default_value:"",placeholder:"投票连接",help_tips:"如：http://example.com/toupiao",example_url:"",verify_rule:"url",verify_fail_message:"",verify_success_message:""},{id:14,platform_id:10,source_type:103,name:"描述",input_type:"textarea",key:"description",description:"",default_value:"",placeholder:"描述一下您的任务",help_tips:"如：直投 上传勾选图和已选图",example_url:"",verify_rule:"",verify_fail_message:"",verify_success_message:""},{id:15,platform_id:10,source_type:103,name:"成功样例图片",input_type:"image",key:"example_image",description:"",default_value:"",placeholder:"",help_tips:"请上传成功后的样例截图",example_url:"",verify_rule:"min_value:0|min_value:2",verify_fail_message:"",verify_success_message:""}]},{id:104,platform_id:10,name:"第三方直投",description:null,operation_tips:null,business_price:"0.14000",elements:[{id:16,platform_id:10,source_type:104,name:"被投人",input_type:"text",key:"target_user",description:"",default_value:"",placeholder:"正确的被投人或被投编号",help_tips:"如：8号选手 龙小云",example_url:"",verify_rule:"required",verify_fail_message:"",verify_success_message:""},{id:17,platform_id:10,source_type:104,name:"连接",input_type:"url",key:"target_url",description:"",default_value:"",placeholder:"投票连接",help_tips:"如：http://example.com/toupiao",example_url:"",verify_rule:"url",verify_fail_message:"",verify_success_message:""},{id:18,platform_id:10,source_type:104,name:"描述",input_type:"textarea",key:"description",description:"",default_value:"",placeholder:"描述一下您的任务",help_tips:"如：直投 上传勾选图和已选图",example_url:"",verify_rule:"",verify_fail_message:"",verify_success_message:""},{id:19,platform_id:10,source_type:104,name:"成功样例图片",input_type:"image",key:"example_image",description:"",default_value:"",placeholder:"",help_tips:"请上传成功后的样例截图",example_url:"",verify_rule:"min_value:0|min_value:2",verify_fail_message:"",verify_success_message:""}]},{id:204,platform_id:10,name:"微商加好友",description:"无需您再一个个的加附近的人了，真实微信用户主动加您，让微信变成您微商广告平台，您要做的仅仅是选对微商产品，然后静静地等待转化。",operation_tips:null,business_price:"0.50000",elements:[{id:42,platform_id:10,source_type:204,name:"微商微信号",input_type:"text",key:"weixin",description:null,default_value:null,placeholder:"请确保您输入的微信号正确无误",help_tips:"提示：请输入您要推广的微商微信号",example_url:null,verify_rule:"required",verify_fail_message:null,verify_success_message:null},{id:43,platform_id:10,source_type:204,name:"描述",input_type:"text",key:"description",description:null,default_value:null,placeholder:null,help_tips:"如：请微信搜索添加好友：“xxx”，7天内不可删除，该信息将原文展示给接单侠。",example_url:null,verify_rule:"required",verify_fail_message:null,verify_success_message:null},{id:44,platform_id:10,source_type:204,name:"成功实例图片",input_type:"image",key:"success_image",description:null,default_value:null,placeholder:null,help_tips:"该图片用于提示接单侠操作成功的截图样例。",example_url:null,verify_rule:"min:1|max:3",verify_fail_message:null,verify_success_message:null}]},{id:110,platform_id:10,name:"朋友圈集赞",description:"一般是指定朋友圈里面的第1条或者第2条内容，让好友点赞。该任务需要先加自己为好友，然后点赞。",operation_tips:null,business_price:"0.60000",elements:[{id:20,platform_id:10,source_type:110,name:"公众号/个人号",input_type:"text",key:"target_user",description:"",default_value:"",placeholder:"正确的公众号或个人号",help_tips:"如：关注公众号 商推云",example_url:"",verify_rule:"required",verify_fail_message:"",verify_success_message:""},{id:21,platform_id:10,source_type:110,name:"文章地址",input_type:"text",key:"article_address",description:"",default_value:"",placeholder:"可写文章连接或文章位置",help_tips:"如：http://example.com/article/1 或 朋友圈第一篇文章",example_url:"",verify_rule:"",verify_fail_message:"",verify_success_message:""},{id:22,platform_id:10,source_type:110,name:"描述",input_type:"textarea",key:"description",description:"",default_value:"",placeholder:"描述一下您的任务",help_tips:"如：转发朋友圈第一篇文章，在自己朋友圈截图",example_url:"",verify_rule:"",verify_fail_message:"",verify_success_message:""},{id:23,platform_id:10,source_type:110,name:"成功样例图片",input_type:"image",key:"example_image",description:"",default_value:"",placeholder:"",help_tips:"请上传成功后的样例截图",example_url:"",verify_rule:"min_value:0|min_value:2",verify_fail_message:"",verify_success_message:""}]},{id:111,platform_id:10,name:"文章评论",description:null,operation_tips:null,business_price:"0.25000",elements:[{id:24,platform_id:10,source_type:111,name:"公众号/个人号",input_type:"text",key:"target_user",description:"",default_value:"",placeholder:"正确的公众号或个人号",help_tips:"如：关注公众号 商推云",example_url:"",verify_rule:"required",verify_fail_message:"",verify_success_message:""},{id:25,platform_id:10,source_type:111,name:"文章地址",input_type:"text",key:"article_address",description:"",default_value:"",placeholder:"可写文章连接或文章位置",help_tips:"如：http://example.com/article/1 或 朋友圈第一篇文章",example_url:"",verify_rule:"",verify_fail_message:"",verify_success_message:""},{id:26,platform_id:10,source_type:111,name:"描述",input_type:"textarea",key:"description",description:"",default_value:"",placeholder:"描述一下您的任务",help_tips:"如：填写评论内容“xxx..” | 自己编写赞美评论",example_url:"",verify_rule:"",verify_fail_message:"",verify_success_message:""},{id:27,platform_id:10,source_type:111,name:"成功样例图片",input_type:"image",key:"example_image",description:"",default_value:"",placeholder:"",help_tips:"请上传成功后的样例截图",example_url:"",verify_rule:"min_value:0|min_value:2",verify_fail_message:"",verify_success_message:""}]},{id:112,platform_id:10,name:"转发朋友圈",description:null,operation_tips:null,business_price:"0.25000",elements:[{id:28,platform_id:10,source_type:112,name:"公众号/个人号",input_type:"text",key:"target_user",description:"",default_value:"",placeholder:"正确的公众号或个人号",help_tips:"如：关注公众号 商推云",example_url:"",verify_rule:"required",verify_fail_message:"",verify_success_message:""},{id:29,platform_id:10,source_type:112,name:"文章地址",input_type:"text",key:"article_address",description:"",default_value:"",placeholder:"可写文章连接或文章位置",help_tips:"如：http://example.com/article/1 或 朋友圈第一篇文章",example_url:"",verify_rule:"",verify_fail_message:"",verify_success_message:""},{id:30,platform_id:10,source_type:112,name:"描述",input_type:"textarea",key:"description",description:"",default_value:"",placeholder:"描述一下您的任务（尽量让接单侠理解您的意图）",help_tips:"如：复制以下内容到自己的朋友圈：xxx获得本年度冠军 | 转发我朋友圈第一篇文章",example_url:"",verify_rule:"",verify_fail_message:"",verify_success_message:""},{id:31,platform_id:10,source_type:112,name:"成功样例图片",input_type:"image",key:"example_image",description:"",default_value:"",placeholder:"",help_tips:"请上传成功后的样例截图",example_url:"",verify_rule:"min_value:0|min_value:2",verify_fail_message:"",verify_success_message:""}]},{id:201,platform_id:20,name:"关注涨粉",description:null,operation_tips:null,business_price:"0.20000",elements:[{id:32,platform_id:20,source_type:201,name:"被关注微博号",input_type:"text",key:"target_user",description:"",default_value:"",placeholder:"正确的微博账号",help_tips:"如：微博账号 商推云",example_url:"",verify_rule:"required",verify_fail_message:"",verify_success_message:""},{id:33,platform_id:10,source_type:201,name:"描述",input_type:"textarea",key:"description",description:"",default_value:"",placeholder:"描述一下您的任务",help_tips:"如：请关注微博 商推云",example_url:"",verify_rule:"",verify_fail_message:"",verify_success_message:""},{id:34,platform_id:10,source_type:201,name:"成功样例图片",input_type:"image",key:"example_image",description:"",default_value:"",placeholder:"",help_tips:"请上传成功后的样例截图",example_url:"",verify_rule:"min_value:0|min_value:2",verify_fail_message:"",verify_success_message:""}]},{id:202,platform_id:20,name:"顶贴",description:null,operation_tips:null,business_price:"0.20000",elements:[{id:35,platform_id:20,source_type:202,name:"微博号",input_type:"text",key:"target_user",description:"",default_value:"",placeholder:"文章所在微博账号",help_tips:"如：微博 商推云",example_url:"",verify_rule:"required",verify_fail_message:"",verify_success_message:""},{id:37,platform_id:10,source_type:202,name:"描述",input_type:"textarea",key:"description",description:"",default_value:"",placeholder:"描述一下您的任务",help_tips:"如：请点赞该文章",example_url:"",verify_rule:"",verify_fail_message:"",verify_success_message:""},{id:38,platform_id:10,source_type:202,name:"成功样例图片",input_type:"image",key:"example_image",description:"",default_value:"",placeholder:"",help_tips:"请上传成功后的样例截图",example_url:"",verify_rule:"min_value:0|min_value:2",verify_fail_message:"",verify_success_message:""}]},{id:203,platform_id:20,name:"转发",description:null,operation_tips:null,business_price:"0.25000",elements:[{id:39,platform_id:20,source_type:203,name:"微博号",input_type:"text",key:"target_user",description:"",default_value:"",placeholder:"文章所在微博账号",help_tips:"如：微博 商推云",example_url:"",verify_rule:"required",verify_fail_message:"",verify_success_message:""},{id:40,platform_id:10,source_type:203,name:"描述",input_type:"textarea",key:"description",description:"",default_value:"",placeholder:"描述一下您的任务",help_tips:"如：请转发该文章并截图",example_url:"",verify_rule:"",verify_fail_message:"",verify_success_message:""},{id:41,platform_id:10,source_type:203,name:"成功样例图片",input_type:"image",key:"example_image",description:"",default_value:"",placeholder:"",help_tips:"请上传成功后的样例截图",example_url:"",verify_rule:"min_value:0|min_value:2",verify_fail_message:"",verify_success_message:""}]}]};e.store_data.task_types=a.data,e.task_id=a.data[0].id})},computed:s()({},a.i(n.a)({store_data:"getData",current_task_type_info:"getCurrentNewMediaTaskInfo"}),{platform_id:{get:function(){return this.store_data.platform_id},set:function(e){this.updateData({platform_id:parseInt(e)})}},task_id:{get:function(){return this.store_data.task_id},set:function(e){this.updateData({task_id:parseInt(e)})}}}),methods:s()({},a.i(n.b)({updateData:"updateData"}),{taskTypeBelongCurrentPlatform:function(e,t){return parseInt(t)===parseInt(this.platform_id)}})}},163:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=(a(33),a(100),a(104)),s=a.n(i),n=a(63);Vue.config.productionTip=!1,$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),new Vue({store:n.a,el:"#app",template:'<App ref="create-wechat-plan"/>',components:{App:s.a}})},19:function(e,t,a){"use strict";function i(e,t){return new o.a(function(a,i){u.a.post(e,t).then(function(e){a(e.data)},function(e){i(e)}).catch(function(e){i(e)})})}function s(e,t){return new o.a(function(a,i){u.a.get(e,t).then(function(e){a(e.data)},function(e){i(e)}).catch(function(e){i(e)})})}function n(e){if(e&&!$.isEmptyObject(e)){var t="";for(var a in e)t+=a+"="+e[a]+"&";return"?"+t.substring(0,t.lastIndexOf("&"))}return""}var r=a(74),o=a.n(r),l=a(68),u=a.n(l),c=a(95),_=a.n(c);u.a.defaults.timeout=15e3,u.a.defaults.baseURL="/",u.a.defaults.headers["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8",u.a.defaults.headers["X-Requested-With"]="XMLHttpRequest",u.a.defaults.headers["X-CSRF-TOKEN"]=$('meta[name="csrf-token"]').attr("content"),u.a.interceptors.request.use(function(e){return e.data=_.a.stringify(e.data),e},function(e){return new PNotify({title:"敬告",text:"错误的传参",type:"warning"}),o.a.reject(e)}),u.a.interceptors.response.use(function(e){if(e.data.hasOwnProperty("result"))return e.data.result?e:e.data.hasOwnProperty("code")&&200002===e.data.code?void new PNotify({title:"敬告",text:e.data.message,type:"warning"}):(new PNotify({title:"敬告",text:e.data.hasOwnProperty("message")?e.data.message:"-101 网络错误，请稍后再试或联系客服",type:"warning"}),o.a.reject(e));new PNotify({title:"敬告",text:e.data.hasOwnProperty("message")?e.data.message:"数据返回异常，请稍后再试或联系客服",type:"warning"})},function(e){return new PNotify({text:"网络异常,请稍后再试或联系管理员",type:"warning"}),o.a.reject(e)}),t.a={getAuditList:function(e){return s("/task/get-audit-list"+n(e))},postAuditpass:function(e){return i("/task/pass",{id:e})},postAuditReject:function(e){return i("/task/reject",{id:e})},getAllCoupons:function(){return s("/coupon/list")},getAllPlanDraft:function(){return s("/task-plan-template/all")},getDeleteDraft:function(e){return s("/task-plan-template/delete/"+parseInt(e))},getUserProfile:function(){return s("/user/profile")},getPlatform:function(e){return s("/new-media-platform/search"+n(e))},getTaskTypes:function(e){return s("/new-media-source-type/search"+n(e))},postNewMediaPlan:function(e){return i("/new-media-plan/add",e)},postNewMediaTaskPass:function(e){return i("/new-media-task/pass",e)},postNewMediaTaskNotPass:function(e){return i("/new-media-task/reject",e)},getSearchNewMediaPlan:function(e){return s("/new-media-task/search"+n(e))},getNewMediaPlanStatusCountNumber:function(e){return s("/new-media-task/get-count-group-by-status/"+e)}}},241:function(e,t,a){var i=a(0)(a(137),a(266),null,null);i.options.__file="/srv/webroot/opensource/task-plan/src/components/form/ChooseImageFormV2.vue",i.esModule&&Object.keys(i.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),i.options.functional&&console.error("[vue-loader] ChooseImageFormV2.vue: functional components are not supported with templates, they should use render functions."),e.exports=i.exports},251:function(e,t,a){var i=a(0)(a(157),a(267),null,null);i.options.__file="/srv/webroot/opensource/task-plan/src/module/create-newmedia-plan/components/AutoRendering.vue",i.esModule&&Object.keys(i.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),i.options.functional&&console.error("[vue-loader] AutoRendering.vue: functional components are not supported with templates, they should use render functions."),e.exports=i.exports},252:function(e,t,a){var i=a(0)(a(158),a(276),null,null);i.options.__file="/srv/webroot/opensource/task-plan/src/module/create-newmedia-plan/components/Bill.vue",i.esModule&&Object.keys(i.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),i.options.functional&&console.error("[vue-loader] Bill.vue: functional components are not supported with templates, they should use render functions."),e.exports=i.exports},253:function(e,t,a){var i=a(0)(a(159),a(286),null,null);i.options.__file="/srv/webroot/opensource/task-plan/src/module/create-newmedia-plan/components/Plan.vue",i.esModule&&Object.keys(i.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),i.options.functional&&console.error("[vue-loader] Plan.vue: functional components are not supported with templates, they should use render functions."),e.exports=i.exports},254:function(e,t,a){var i=a(0)(a(160),a(288),null,null);i.options.__file="/srv/webroot/opensource/task-plan/src/module/create-newmedia-plan/components/TypeSelect.vue",i.esModule&&Object.keys(i.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),i.options.functional&&console.error("[vue-loader] TypeSelect.vue: functional components are not supported with templates, they should use render functions."),e.exports=i.exports},266:function(e,t,a){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-lg-2 control-label"},[a("strong",[e._v(e._s(e.title_name))])]),e._v(" "),a("div",{staticClass:"col-lg-10"},[a("div",{staticClass:"choose-image add-store"},[e._l(e.base_data.images,function(t,i){return[t?a("a",{staticClass:"mr5",attrs:{href:"javascript:void(0)"},on:{click:function(t){e.delete_img(i)}}},[a("img",{staticClass:"img-thumbnail animated fadeIn",attrs:{src:t,alt:"点击删除"}}),e._v(" "),e._m(0,!0)]):e._e()]}),e._v(" "),e.base_data.images.length<e.base_data.max_img_num?[a("a",{staticClass:"mr5",attrs:{href:"#"+e.id,"data-toggle":"modal"}},[a("img",{staticClass:"img-thumbnail",attrs:{src:e.default_image,alt:"默认图片"}}),e._v(" "),a("p",[e._v("选择图片")])])]:e._e()],2),e._v(" "),e.vTag?a("input",{directives:[{name:"model",rawName:"v-model",value:e.current_image_data_length,expression:"current_image_data_length"},{name:"validate",rawName:"v-validate",value:"current_image_data_length",expression:"'current_image_data_length'"}],attrs:{hidden:"",type:"text",name:"current_image_data_length"},domProps:{value:e.current_image_data_length},on:{input:function(t){t.target.composing||(e.current_image_data_length=t.target.value)}}}):e._e(),e._v(" "),a("hr"),e._v(" "),e.errors.has("current_image_data_length")?a("div",{staticClass:"text-danger"},[a("i",{staticClass:"icon icon-times-circle color-red"}),e._v("\n            "+e._s(e.errors.first("current_image_data_length"))+"\n        ")]):e._e(),e._v(" "),e.description&&!e.errors.has("current_image_data_length")?[a("div",{staticClass:"help-block text-info"},[a("i",{staticClass:"icon icon-info-circle"}),e._v(" "),a("span",{domProps:{innerHTML:e._s(e.description)}})])]:e._e()],2),e._v(" "),a("ChooseProductImg",{attrs:{base_data:e.base_data,id:e.id,other_params:e.other_params}})],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",[a("i",{staticClass:"icon icon-times-circle color-red"}),e._v(" "),a("span",{staticClass:"small"},[e._v("点击删除")])])}]},e.exports.render._withStripped=!0},267:function(e,t,a){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.task_info&&e.task_info.hasOwnProperty("elements")&&e.task_info.elements.length>0?a("div",{staticClass:"task-plan-section"},[a("h4",{on:{click:function(t){!0===e.section_open?e.section_open=!1:e.section_open=!0}}},[e._v("\n        填写任务信息\n        "),a("i",{staticClass:"icon",class:{"icon-angle-double-up text-danger":!1===e.section_open,"icon-angle-double-down":!0===e.section_open}})]),e._v(" "),a("blockquote",{directives:[{name:"show",rawName:"v-show",value:e.section_open,expression:"section_open"}]},[a("div",{staticClass:"form-horizontal tasi-form add-store"},[e._l(e.task_info.elements,function(t){return["image"!==t.input_type?a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-lg-2 control-label"},[a("strong",[e._v(e._s(t.name))])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.store_data.content.hasOwnProperty(t.key),expression:"store_data.content.hasOwnProperty(element.key)"}],staticClass:"col-lg-6"},["text"===t.input_type||"url"===t.input_type?a("input",{directives:[{name:"validate",rawName:"v-validate",value:t.verify_rule,expression:"element.verify_rule"},{name:"model",rawName:"v-model",value:e.store_data.content[t.key],expression:"store_data.content[element.key]"}],staticClass:"form-control inline-block",attrs:{placeholder:t.placeholder,name:t.key,type:"text"},domProps:{value:e.store_data.content[t.key]},on:{input:function(a){a.target.composing||e.$set(e.store_data.content,t.key,a.target.value)}}}):e._e(),e._v(" "),"textarea"===t.input_type?a("textarea",{directives:[{name:"validate",rawName:"v-validate",value:t.verify_rule,expression:"element.verify_rule"},{name:"model",rawName:"v-model",value:e.store_data.content[t.key],expression:"store_data.content[element.key]"}],staticClass:"form-control",attrs:{rows:"3",name:t.key,placeholder:t.placeholder},domProps:{value:e.store_data.content[t.key]},on:{input:function(a){a.target.composing||e.$set(e.store_data.content,t.key,a.target.value)}}}):e._e(),e._v(" "),t.help_tips&&!e.errors.has(t.key)?a("div",{staticClass:"help-block"},[e._v("\n                            "+e._s(t.help_tips)+"\n                        ")]):e._e(),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.errors.has(t.key),expression:"errors.has(element.key)"}],staticClass:"help-block text-danger"},[a("i",{staticClass:"icon icon-times-circle color-red"}),e._v("\n                            "+e._s(e.errors.first(t.key))+"\n                        ")])])]):e._e(),e._v(" "),"image"===t.input_type&&e.store_data.content[t.key]?[a("ChooseImageForm",{attrs:{other_params:{watermark:1},id:t.key,base_data:e.store_data.content[t.key],description:t.help_tips,title_name:t.name}})]:e._e()]}),e._v(" "),a("div",{staticClass:"form-group no-border"},[e._m(0),e._v(" "),a("div",{staticClass:"col-lg-8"},[a("s-datetime",{attrs:{date_range:e.store_data.date_range}}),e._v(" "),e._m(1)],1)])],2)])]):e._e()},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticClass:"col-lg-2 control-label"},[a("strong",[e._v("放单时间")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"help-block text-info"},[a("i",{staticClass:"icon icon-info-circle"}),e._v("\n                        我们将在您设置的时间范围内开放任务\n                    ")])}]},e.exports.render._withStripped=!0},276:function(e,t,a){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"task-plan-section done mt50"},[a("hr"),e._v(" "),a("div",{staticClass:"form-group row"},[a("div",{staticClass:"col-lg-10 text-right"},[a("div",{staticClass:"col-lg-8 cost-module pt30 pb30",staticStyle:{background:"rgba(0,0,0,0.025)"}},[a("div",{staticClass:"row"},[e._m(0),e._v(" "),a("div",{staticClass:"col-xs-6 text-right"},[a("span",{staticClass:"s16"},[e._v(e._s(Number(e.money).toFixed(2)))]),e._v("云币\n                    ")])]),e._v(" "),a("div",{staticClass:"row"},[e._m(1),e._v(" "),a("div",{staticClass:"col-xs-6 text-right"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.pay_info.coupon_id,expression:"pay_info.coupon_id"}],staticClass:"form-control",class:{"color-red":e.init_data.coupons.length>0},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.pay_info,"coupon_id",t.target.multiple?a:a[0])}}},[e.init_data.coupons.length<=0?[a("option",{attrs:{value:""}},[e._v("您暂无可用的优惠卷")])]:e._e(),e._v(" "),e.init_data.coupons.length>0?[a("option",{attrs:{value:""}},[e._v("请选择优惠卷")]),e._v(" "),e._l(e.init_data.coupons,function(t,i){return[a("option",{attrs:{disabled:!e.couponIsValid(i)},domProps:{value:t.id}},[e._v("\n                                        "+e._s(t.name)+"\n                                    ")])]})]:e._e()],2),e._v(" "),a("small",{staticClass:"color-red"},[e.coupon_offer>0?[e._v("\n                                抵扣 -"+e._s(Number(e.coupon_offer).toFixed(2))+"云币\n                            ")]:e._e()],2)])]),e._v(" "),a("div",{staticClass:"row"},[e._m(2),e._v(" "),a("div",{staticClass:"col-xs-6 text-right"},[a("label",{staticStyle:{"font-weight":"300"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.pay_info.use_account_balance,expression:"pay_info.use_account_balance"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.pay_info.use_account_balance)?e._i(e.pay_info.use_account_balance,null)>-1:e.pay_info.use_account_balance},on:{change:function(t){var a=e.pay_info.use_account_balance,i=t.target,s=!!i.checked;if(Array.isArray(a)){var n=e._i(a,null);i.checked?n<0&&(e.pay_info.use_account_balance=a.concat([null])):n>-1&&(e.pay_info.use_account_balance=a.slice(0,n).concat(a.slice(n+1)))}else e.$set(e.pay_info,"use_account_balance",s)}}}),e._v(" 使用余额抵扣\n                        ")]),e._v(" "),e.pay_info.use_account_balance?[a("p",[e._v("账户可用余额： "+e._s(Number(e.pay_info.account_balance).toFixed(2))+"云币")]),e._v(" "),e.pay_info.use_account_balance&&e.pay_info.account_balance>0?a("small",{staticClass:"color-red"},[e._v("\n                                抵扣 -"+e._s(Number(e.balance_deductible).toFixed(2))+"云币\n                            ")]):e._e()]:e._e()],2)]),e._v(" "),a("div",{staticClass:"price"},[e._v("\n                    实际应付额：\n                    "),a("span",{staticClass:"num text-warning s38"},[e._v(e._s(Number(e.amount).toFixed(2)))]),e._v("云币\n                ")]),e._v(" "),a("div",[a("a",{staticClass:"btn btn-danger btn-lg",attrs:{href:"javascript:void(0)"},on:{click:e.release}},[a("i",{staticClass:"icon icon-check"}),e._v("\n                        立即发布您的推广计划\n                    ")])])])])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-xs-6 text-left"},[a("label",{staticClass:"control-label"},[e._v("总合计费用 :")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-xs-6 text-left"},[a("label",{staticClass:"control-label"},[e._v("优惠卷:")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-xs-6 text-left"},[a("label",{staticClass:"control-label"},[e._v("是否使用余额抵扣 :")])])}]},e.exports.render._withStripped=!0},283:function(e,t,a){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("section",{staticClass:"panel"},[a("div",{staticClass:"panel-body"},[a("TypeSelect"),e._v(" "),a("Plan"),e._v(" "),a("AutoRendering"),e._v(" "),a("Bill",{attrs:{money:e.store_data.total_money,submit_function:"bill"}})],1)])])},staticRenderFns:[]},e.exports.render._withStripped=!0},286:function(e,t,a){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"task-plan-section"},[a("h4",{on:{click:function(t){!0===e.section_open?e.section_open=!1:e.section_open=!0}}},[e._v("\n        计划信息\n        "),a("i",{staticClass:"icon",class:{"icon-angle-double-up text-danger":!1===e.section_open,"icon-angle-double-down":!0===e.section_open}})]),e._v(" "),a("blockquote",{directives:[{name:"show",rawName:"v-show",value:e.section_open,expression:"section_open"}]},[a("div",{staticClass:"form-horizontal tasi-form add-store"},[a("div",{staticClass:"form-group"},[e._m(0),e._v(" "),a("div",{staticClass:"col-lg-6"},[a("span",{staticClass:"form-control-static s16"},[a("span",{staticClass:"small"},[e._v("￥")]),e._v("\n                            "+e._s(e.store_data.task_price)+"\n                        ")])])]),e._v(" "),a("div",{staticClass:"form-group"},[e._m(1),e._v(" "),a("div",{staticClass:"col-lg-6",class:{"has-error":e.errors.has("number")}},[a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.number,expression:"number"},{name:"validate",rawName:"v-validate",value:"required|numeric|min_value:1",expression:"'required|numeric|min_value:1'"}],staticClass:"form-control per50 inline-block",attrs:{name:"number",type:"text"},domProps:{value:e.number},on:{input:function(t){t.target.composing||(e.number=t.target.value)}}}),e._v(" "),a("span",{staticClass:"ml10 mt5"},[e._v("件")])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("number"),expression:"errors.has('number')"}],staticClass:"help-block text-danger"},[a("i",{staticClass:"icon icon-times-circle color-red"}),e._v("\n                        "+e._s(e.errors.first("number"))+"\n                    ")])])]),e._v(" "),a("div",{staticClass:"form-group"},[e._m(2),e._v(" "),a("div",{staticClass:"col-lg-6",class:{"has-error":e.errors.has("expedite")}},[a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.expedite,expression:"expedite"},{name:"validate",rawName:"v-validate",value:"required|min_value:0",expression:"'required|min_value:0'"}],staticClass:"form-control per50 inline-block",attrs:{name:"expedite",type:"text"},domProps:{value:e.expedite},on:{input:function(t){t.target.composing||(e.expedite=t.target.value)}}}),e._v(" "),e._m(3)]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("expedite"),expression:"errors.has('expedite')"}],staticClass:"help-block text-danger"},[a("i",{staticClass:"icon icon-times-circle color-red"}),e._v("\n                        "+e._s(e.errors.first("expedite"))+"\n                    ")]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.errors.has("expedite"),expression:"!errors.has('expedite')"}],staticClass:"help-block"},[e._v("\n                        急件请加价置顶以保证时效\n                    ")])])]),e._v(" "),a("div",{staticClass:"form-group"},[e._m(4),e._v(" "),a("div",{staticClass:"col-lg-6"},[a("p",{staticClass:"form-control-static"},[a("span",{staticClass:"small"},[e._v("￥")]),e._v("\n                        "+e._s(e.total_money)+"\n                    ")])])])])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticClass:"col-lg-2 control-label"},[a("strong",[e._v("单价")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticClass:"col-lg-2 control-label"},[a("strong",[e._v("任务数量")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticClass:"col-lg-2 control-label"},[a("strong",[e._v("置顶加价")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"ml10 mt5"},[a("span",{staticClass:"small"},[e._v("￥")]),e._v(" / 件 "),a("span",{staticClass:"color-red s12"},[e._v("加急置顶")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticClass:"col-lg-2 control-label"},[a("strong",[e._v("总价")])])}]},e.exports.render._withStripped=!0},288:function(e,t,a){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"task-plan-section"},[a("h4",{on:{click:function(t){!0===e.section_open?e.section_open=!1:e.section_open=!0}}},[e._v("\n        基本选项\n        "),a("i",{staticClass:"icon",class:{"icon-angle-double-up text-danger":!1===e.section_open,"icon-angle-double-down":!0===e.section_open}})]),e._v(" "),a("blockquote",{directives:[{name:"show",rawName:"v-show",value:e.section_open,expression:"section_open"}]},[a("div",{staticClass:"form-horizontal tasi-form add-store"},[a("div",{staticClass:"form-group"},[e._m(0),e._v(" "),a("div",{staticClass:"col-lg-10"},[a("div",{staticClass:"radios-inline"},e._l(e.store_data.platforms,function(t,i){return a("label",{staticClass:"label_radio"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.platform_id,expression:"platform_id"}],attrs:{type:"radio"},domProps:{value:t.id,checked:e._q(e.platform_id,t.id)},on:{change:function(a){e.platform_id=t.id}}}),e._v(" "),a("img",{attrs:{src:t.logo,alt:t.name}})])}))])]),e._v(" "),e.platform_id?a("div",{staticClass:"form-group"},[e._m(1),e._v(" "),a("div",{staticClass:"col-lg-10"},[a("div",{staticClass:"radios-inline"},[e._l(e.store_data.task_types,function(t){return[e.taskTypeBelongCurrentPlatform(t.id,t.platform_id)?[a("label",{staticClass:"label_radio"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.task_id,expression:"task_id"}],attrs:{type:"radio"},domProps:{value:t.id,checked:e._q(e.task_id,t.id)},on:{change:function(a){e.task_id=t.id}}}),e._v("\n                                    "+e._s(t.name)+"\n                                ")])]:e._e()]})],2),e._v(" "),!1!==e.current_task_type_info&&e.current_task_type_info.description?[a("div",{staticClass:"help-block text-info animated fadeIn"},[a("i",{staticClass:"icon icon-info-circle"}),e._v(" "),a("span",{domProps:{innerHTML:e._s(e.current_task_type_info.description)}})])]:e._e()],2)]):e._e()])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticClass:"col-lg-2 control-label"},[a("strong",[e._v("选择任务平台")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticClass:"col-lg-2 control-label"},[a("strong",[e._v("任务类型")])])}]},e.exports.render._withStripped=!0},32:function(e,t){e.exports="data:image/png;base64,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"},33:function(e,t,a){"use strict";var i=a(97),s=a.n(i);Vue.prototype.Validator=s.a.Validator,s.a.extendTemplates({in:"必须是 {0} 中的任意一个.",optionCombiner:function(e){return e.length>2&&(e=[e.slice(0,e.length-1).join("，"),e[e.length-1]]),e.join(" 或 ")}}),Vue.use(s.a)},44:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(12),s=a.n(i),n=a(1);t.default={data:function(){return{}},props:{id:{default:"ChooseProductImg"+(1e5*Math.random()+"").split(".")[0]},name:{default:"ChooseProductImg"+(1e5*Math.random()+"").split(".")[0]},base_data:{required:!0,default:{images:[],alternative_images:[]}},other_params:{default:{}}},mounted:function(){var e=this,t={space:"business",is_temporary:2,less_ie9:a.i(n.f)()?1:0,_token:$('meta[name="csrf-token"]').attr("content")};$.isEmptyObject(this.other_params)||(t=$.extend({},t,this.other_params)),$(".prodcut-photo-upload").fileupload({url:"/upload",dataType:"json",acceptFileTypes:/(\.|\/)(gif|jpe?g|png)$/i,maxFileSize:2097152,minFileSize:10,maxNumberOfFiles:20,messages:{maxFileSize:"单个图片文件的大小不能超过2M",acceptFileTypes:"您只能上传图片类型的文件",minFileSize:"单次最多上传10个文件",maxNumberOfFiles:"最多上传20个文件"},formData:t,done:function(t,a){a=void 0!==a.result[0]&&a.result[0].hasOwnProperty("body")?a.result[0].body.innerHTML:a.result,"object"!==(void 0===a?"undefined":s()(a))&&(a=JSON.parse(a)),!0===a.result?e.base_data.alternative_images.push({title:"",value:a.path,img:a.path,path:a.path}):new PNotify(a.message?a.message:"服务器错误，请刷新后重试或联系客服人员！")},fail:function(e,t){new PNotify({title:"错误提示!",text:"图片上传错误，请稍后再试",type:"error"})},always:function(e,t){}}).on("fileuploadprocessalways",function(e,t){var a=t.files[t.index];t.files.error&&a.error&&new PNotify({title:"错误提示!",text:a.error,type:"error"})}).prop("disabled",!$.support.fileInput).parent().addClass($.support.fileInput?void 0:"disabled")},methods:{_inArray:function(e,t){return-1!==$.inArray(e,t)},imageIsChecked:function(e){return!0===this._inArray(e,this.base_data.images)},toggleImage:function(e){var t=$(e.target).attr("value");this.imageIsChecked(t)?this.base_data.images.splice($.inArray(t,this.base_data.images),1):this.base_data.images.length<this.base_data.max_img_num?this.base_data.images.push(t):new PNotify({title:"提示",text:"最多选择"+this.base_data.max_img_num+"张图片，若需要选择此图片，请取消其它图片的选择。",type:"warning"})}}}},45:function(e,t,a){"use strict";function i(e){return"[ "+e+" ]"}function s(e){if(e.hasOwnProperty("$validator")&&(e.$validator.validateAll().then(function(t){t||r.a.dispatch("updateData",{errors:e.errors.all()})}),e.hasOwnProperty("$children")&&e.$children instanceof Array))for(var t in e.$children)s(e.$children[t])}function n(e){r.a.dispatch("updateData",{errors:[]}),s(e)}t.b=i,t.a=n;var r=a(63)},59:function(e,t,a){var i=a(0)(a(44),a(62),null,null);i.options.__file="/srv/webroot/opensource/task-plan/src/components/modal/ChooseProductImg.vue",i.esModule&&Object.keys(i.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),i.options.functional&&console.error("[vue-loader] ChooseProductImg.vue: functional components are not supported with templates, they should use render functions."),e.exports=i.exports},62:function(e,t,a){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal fade",attrs:{id:e.id,tabindex:"-1",role:"dialog","aria-labelledby":e.id,"aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[e._m(0),e._v(" "),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"choose_product_img"},[e._l(e.base_data.alternative_images,function(t){return[a("label",{staticClass:"animated fadeIn"},[e.imageIsChecked(t.value)?[a("i",{staticClass:"icon icon-check-circle s16 color-green checked"})]:e._e(),e._v(" "),t.img?a("img",{staticClass:"img-thumbnail",attrs:{src:t.img,alt:"",value:t.value},on:{click:e.toggleImage}}):e._e()],2)]})],2)]),e._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-warning",attrs:{"data-dismiss":"modal",type:"button"}},[e._v("完成选择")]),e._v(" "),typeof e.base_data.alternative_images!==Array||0===e.base_data.alternative_images.length?[e._m(1)]:e._e()],2)])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-header"},[a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-hidden":"true"}},[e._v("×")]),e._v(" "),a("h4",{staticClass:"modal-title"},[e._v("请选择图片")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a",{staticClass:"btn btn-success fileinput-button pull-left",attrs:{href:"javascript:void(0)"}},[a("i",{staticClass:"icon icon-plus"}),e._v(" "),a("span",[e._v("上传图片...")]),e._v(" "),a("input",{staticClass:"prodcut-photo-upload",attrs:{type:"file",name:"image",multiple:""}})])}]},e.exports.render._withStripped=!0},63:function(e,t,a){"use strict";var i=a(24),s=new i.c.Store({modules:{}});s.registerModule("data",{state:{is_loading:!1,data:{platform_id:0,task_id:0,task_price:0,date_range:{from:"",to:""},number:3e3,expedite:0,content:{},total_money:0,use_account_balance:!1,coupon_id:"",is_validate:!0,errors:[],platforms:[],task_types:[]}},mutations:{updateIsLoading:function(e,t){e.is_loading=t.is_loading},updateData:function(e,t){for(var a in t)e.data[a]=t[a]}},actions:{updateIsLoading:function(e,t){(0,e.commit)("updateIsLoading",{is_loading:t})},updateData:function(e,t){(0,e.commit)("updateData",t)}},getters:{getIsLoading:function(e){return e.is_loading},getData:function(e){return e.data},getCurrentNewMediaTaskInfo:function(e){if(e.data.platform_id&&e.data.task_id)for(var t in e.data.task_types)if(e.data.task_types[t].id===parseInt(e.data.task_id))return e.data.task_types[t];return!1}}}),t.a=s}},[163]);
//# sourceMappingURL=create-newmedia-plan.js.map